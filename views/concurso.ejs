<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/concurso.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Righteous&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
    
    <title>Concurso</title>
</head>

<body>

    <%- include('components/navbar.ejs'); %>
        <br><br><br>

        <div class="container">

            <br /><br /><br />
            <br />
            <h2>Olá, <%=nome.nome%>
                    <%=nome.sobrenome%>
            </h2>
            <h5 class="w-100 my-3 " style="color: red;">
                <%=msg%>
            </h5>
            <br>
            <script type="text/javascript">

                function verify() {

                    var p1 = document.querySelector('input[name="p1"]:checked').id;
                    document.querySelector("#p1p").innerHTML = p1
                    console.log(p1)

                    var p2 = document.querySelector('input[name="p2"]:checked').id;
                    document.querySelector("#p2p").innerHTML = p2

                    var p3 = document.querySelector('input[name="p3"]:checked').id;
                    document.querySelector("#p3p").innerHTML = p3

                    var p4 = document.querySelector('input[name="p4"]:checked').id;
                    document.querySelector("#p4p").innerHTML = p4

                    var p5 = document.querySelector('input[name="p5"]:checked').id;
                    document.querySelector("#p5p").innerHTML = p5
                }
            </script>
            <div class="row">
                <div class="col-md-6">
                    <div class="card" style="width: 18rem;">

                        <div class="card-body">
                            <div class="text-center">
                                <h3>Seu Palpite</h3>
                            </div>

                            <hr>
                            <h5>Pole Position:<div id="p4p" style="color:crimson"></div>
                            </h5>
                            <br>
                            <h5>1°:<div id="p1p" style="color:crimson"></div>
                            </h5>
                            <br>
                            <h5>2°:<div id="p2p" style="color:crimson"></div>
                            </h5>
                            <br>
                            <h5>3°:<div id="p3p" style="color:crimson"></div>
                            </h5>
                            <br>
                            <h5>Volta mais Rapida:<div id="p5p" style="color:crimson"></div>
                            </h5>
                            

                            <hr>
                            <div class="row">
                                <div class="col-md-6 my-2">
                                    <button class="btn btn-success btn-md" onclick="verify()">Verificar</button>
                                </div>
                                <div class="col-md-6 my-2">
                                    <button class="btn btn-md btn-danger"
                                        onClick="window.location.reload();">Deletar</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="">
                        <img src="/img/08c61f4f-b4e5-484f-b3d8-8c91ac83d946.jfif" class="img-fluid img-banner" alt="">
                    </div>
                </div>
            </div>




            <br />
            <div class="tabela m-0 w-100">

                <div class="container-form ">
                    <form method="POST" action="/salvarPalpite" class="w-100">



                        <div class="titulo w-100 m-0">
                            <div class="form-group col-md-8">
                                <label>Etapa do Palpite: </label>
                                <select class="form-control bg-warning" id="etapaP" name="etapaP"
                                    style='font-size:25px'>
                                    <% calendar.forEach(calendar=>{ %>

                                        <%if(calendar.id==nextEtapa){%>
                                            <option value="<%=nextEtapa%>" class="optionEtapa" style='font-size:25px'>
                                                GP <%=nextEtapa%> - <%= calendar.local %>
                                            </option>
                                            <%}%>



                                                <%})%>
                                </select>
                                
                            </div>

                        </div>
                        
                        <button  class="btn btn-lg btnLogin my-3 text-white w-100">
                            Enviar Palpite
                        </button>

                        <table class="table table-dark table-responsive-lg w-100">
                            <thead>
                                <tr>
                                    <th scope="col hashtag" style="
                                text-align: center;
                            ">#</th>
                                    <th scope="col">Pilotos</th>
                                    <th scope="col">Pole</th>
                                    <th scope="col">1°</th>
                                    <th scope="col">2°</th>
                                    <th scope="col">3°</th>
                                    <th scope="col">V.R</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% pilots.forEach(pilot=>{ %>
                                    <tr class="<%= pilot.escuderia %>">
                                        <th scope="row">

                                            <p class="text-black">
                                                <%= pilot.numero %>
                                            </p>

                                        </th>
                                        <th scope="row">
                                            <%= pilot.piloto %>
                                        </th>
                                        <td>
                                            <div class="form-check form-check-inline">
                                                <input name="p4" class="form-check-input" type="radio"
                                                    id="<%= pilot.piloto %>" value="<%= pilot.numero %>" />

                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check form-check-inline">
                                                <input name="p1" class="form-check-input" onClick="not_repeat"
                                                    type="radio" id="<%= pilot.piloto %>" value="<%= pilot.numero %>" />
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check form-check-inline">
                                                <input name="p2" class="form-check-input" onClick="not_repeat"
                                                    type="radio" id="<%= pilot.piloto %>" value="<%= pilot.numero %>" />
                                            </div>
                                        </td>

                                        <td>
                                            <div class="form-check form-check-inline">
                                                <input name="p3" class="form-check-input" onClick="not_repeat"
                                                    type="radio" id="<%= pilot.piloto %>" value="<%= pilot.numero %>" />
                                            </div>
                                        </td>

                                        <td>
                                            <div class="form-check form-check-inline">
                                                <input name="p5" class="form-check-input" type="radio"
                                                    id="<%= pilot.piloto %>" value="<%= pilot.numero %>" />
                                            </div>
                                        </td>
                                    </tr>
                                    <%})%>
                            </tbody>
                        </table>
                        <div class="enviar mb-5">
                            <button class="btn btn-primary btnLogin">
                                Enviar Palpite
                            </button>
                        </div>
                    </form>


                </div>
            </div>
        </div>
        <%- include('components/footer.ejs'); %>
            <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
                integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
                crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
                crossorigin="anonymous"></script>
</body>

</html>